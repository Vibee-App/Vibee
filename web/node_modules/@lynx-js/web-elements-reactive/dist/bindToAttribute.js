/**
// Copyright 2023 The Lynx Authors. All rights reserved.
// Licensed under the Apache License Version 2.0 that can be found in the
// LICENSE file in the root directory of this source tree.
*/
import { boostedQueueMicrotask } from './boostedQueueMicrotask.js';
export function bindToAttribute(elementGetter, attributeName, valProcessor) {
    return function (newVal) {
        if (valProcessor)
            newVal = valProcessor(newVal);
        const target = elementGetter.call(this);
        const currentAttribute = target.getAttribute(attributeName);
        if (currentAttribute !== newVal) {
            if (newVal !== null) {
                boostedQueueMicrotask(() => {
                    target.setAttribute(attributeName, newVal);
                });
            }
            else {
                boostedQueueMicrotask(() => {
                    target.removeAttribute(attributeName);
                });
            }
        }
    };
}
//# sourceMappingURL=bindToAttribute.js.map